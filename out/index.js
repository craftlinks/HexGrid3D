var S=function(){let b=[];for(let B=0;B<6;B++){const D=[];for(let q=0;q<6;q++)D.push(Math.random()*2-1);b.push(D)}return b},T=function(b,B){if(b<0.3)return b/0.3-1;else if(0.3<=b&&b<=1)return B*(1-Math.abs(2*b-1-0.3)/0.7);else return 0},U=function(){for(let b=0;b<1500;b++){let B=0,D=0;for(let q=0;q<1500;q++){if(b==q)continue;let A=H[q]-H[b],E=I[q]-I[b];if(Math.abs(A)>0.5)A=A-Math.sign(A);if(Math.abs(E)>0.5)E=E-Math.sign(E);const G=Math.sqrt(A*A+E*E);if(G>0&&G<0.1){const N=T(G/0.1,Q[L[b]][L[q]]);B+=N*A/G,D+=N*E/G}}B*=1,D*=1,J[b]=J[b]*O+B*0.01,K[b]=K[b]*O+D*0.01}for(let b=0;b<1500;b++)H[b]+=J[b]*0.01,I[b]+=K[b]*0.01,H[b]=(H[b]+1)%1,I[b]=(I[b]+1)%1},V=function(b,B=1){for(let A=0;A<B;++A)U();const{width:D,height:q}=b.canvas;b.resetTransform(),b.clearRect(0,0,D,q),b.lineWidth=0.1,b.fillStyle="black",b.fillRect(0,0,D,q);for(let A=0;A<1500;++A){b.beginPath();const E=H[A]*D,G=I[A]*q;b.arc(E,G,5,0,Math.PI*2),b.fillStyle=`hsl(${L[A]*360/6}, 100%, 50%)`,b.fill(),b.stroke()}},W=function(b){let B=window.devicePixelRatio||1,D=b.getBoundingClientRect();b.width=D.width*B,b.height=D.height*B;let q=b.getContext("2d");return q.scale(B,B),q},Z=function(){return W(document.querySelector("canvas"))};var O=Math.pow(0.5,0.25);var Q=S();console.log(Q);var L=new Int32Array(1500),H=new Float32Array(1500),I=new Float32Array(1500),J=new Float32Array(1500),K=new Float32Array(1500);for(let b=0;b<1500;b++)L[b]=Math.floor(Math.random()*6),H[b]=Math.random(),I[b]=Math.random(),J[b]=0,K[b]=0;var $=Z();while(!0)V($),await new Promise(requestAnimationFrame);
