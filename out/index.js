var V=function(){let b=[];for(let k=0;k<6;k++){const q=[];for(let B=0;B<6;B++)k==B?q.push(1):k==B+1?q.push(0.1):q.push(0);b.push(q)}return b},W=function(b,k){if(b<0.3)return b/0.3-1;else if(0.3<=b&&b<=1)return k*(1-Math.abs(2*b-1-0.3)/0.7);else return 0},$=function(){for(let b=0;b<1500;b++){let k=0,q=0,B=0;for(let A=0;A<1500;A++){if(b==A)continue;let D=H[A]-H[b],E=I[A]-I[b],G=K[A]-K[b];if(Math.abs(D)>0.5)D=D-Math.sign(D);if(Math.abs(E)>0.5)E=E-Math.sign(E);if(Math.abs(G)>0.5)G=G-Math.sign(G);const J=Math.sqrt(D*D+E*E+G*G);if(J>0&&J<0.25){const S=W(J/0.25,U[Q[b]][Q[A]]);k+=S*D/J,q+=S*E/J,B+=S*G/J}}k*=2.5,q*=2.5,B*=2.5,L[b]=L[b]*T+k*0.01,N[b]=N[b]*T+q*0.01,O[b]=O[b]*T+B*0.01}for(let b=0;b<1500;b++)H[b]+=L[b]*0.01,I[b]+=N[b]*0.01,K[b]+=O[b]*0.01,H[b]=(H[b]+1)%1,I[b]=(I[b]+1)%1,K[b]=(K[b]+1)%1},u=function(b,k=1){for(let A=0;A<k;++A)$();const{width:q,height:B}=b.canvas;b.resetTransform(),b.clearRect(0,0,q,B),b.lineWidth=0.1,b.fillStyle="black",b.fillRect(0,0,q,B);for(let A=0;A<1500;++A){b.beginPath();const D=H[A]*q,E=I[A]*B;b.arc(D,E,6,0,Math.PI*2),b.fillStyle=`hsl(${Q[A]*360/6}, 100%, 50%)`,b.fill(),b.stroke()}},M=function(b){let k=window.devicePixelRatio||1,q=b.getBoundingClientRect();b.width=q.width*k,b.height=q.height*k;let B=b.getContext("2d");return B.scale(k,k),B},P=function(){return M(document.querySelector("canvas"))};var T=Math.pow(0.5,0.25);var U=V();console.log(U);var Q=new Int32Array(1500),H=new Float32Array(1500),I=new Float32Array(1500),K=new Float32Array(1500),L=new Float32Array(1500),N=new Float32Array(1500),O=new Float32Array(1500);for(let b=0;b<1500;b++)Q[b]=Math.floor(Math.random()*6),H[b]=Math.random(),I[b]=Math.random(),K[b]=Math.random(),L[b]=0,N[b]=0,O[b]=0;var R=P();while(!0)u(R),await new Promise(requestAnimationFrame);
