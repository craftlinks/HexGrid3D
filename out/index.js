var T=function(){let b=[];for(let M=0;M<6;M++){const R=[];for(let k=0;k<6;k++)R.push(Math.random()*2-1);b.push(R)}return b},U=function(b,M){if(b<0.3)return b/0.3-1;else if(0.3<=b&&b<=1)return M*(1-Math.abs(2*b-1-0.3)/0.7);else return 0},V=function(){for(let b=0;b<1500;b++){let M=0,R=0,k=0;for(let I=0;I<1500;I++){if(b==I)continue;let q=D[I]-D[b],A=E[I]-E[b],B=H[I]-H[b];if(Math.abs(q)>0.5)q=q-Math.sign(q);if(Math.abs(A)>0.5)A=A-Math.sign(A);if(Math.abs(B)>0.5)B=B-Math.sign(B);const G=Math.sqrt(q*q+A*A+B*B);if(G>0&&G<0.25){const O=U(G/0.25,S[N[b]][N[I]]);M+=O*q/G,R+=O*A/G,k+=O*B/G}}M*=2.5,R*=2.5,k*=2.5,J[b]=J[b]*Q+M*0.01,K[b]=K[b]*Q+R*0.01,L[b]=L[b]*Q+k*0.01}for(let b=0;b<1500;b++)D[b]+=J[b]*0.01,E[b]+=K[b]*0.01,H[b]+=L[b]*0.01,D[b]=(D[b]+1)%1,E[b]=(E[b]+1)%1,H[b]=(H[b]+1)%1},W=function(b,M=1){for(let I=0;I<M;++I)V();const{width:R,height:k}=b.canvas;b.resetTransform(),b.clearRect(0,0,R,k),b.lineWidth=0.1,b.fillStyle="black",b.fillRect(0,0,R,k);for(let I=0;I<1500;++I){b.beginPath();const q=D[I]*R,A=E[I]*k;b.arc(q,A,3.6,0,Math.PI*2),b.fillStyle=`hsl(${N[I]*360/6}, 90%, 65%)`,b.fill(),b.stroke()}},$=function(b){let M=window.devicePixelRatio||1,R=b.getBoundingClientRect();b.width=R.width*M,b.height=R.height*M;let k=b.getContext("2d");return k.scale(M,M),k},g=function(){return $(document.querySelector("canvas"))};var Q=Math.pow(0.5,0.25);var S=T();console.log(S);var N=new Int32Array(1500),D=new Float32Array(1500),E=new Float32Array(1500),H=new Float32Array(1500),J=new Float32Array(1500),K=new Float32Array(1500),L=new Float32Array(1500);for(let b=0;b<1500;b++)N[b]=Math.floor(Math.random()*6),D[b]=Math.random(),E[b]=Math.random(),H[b]=Math.random(),J[b]=0,K[b]=0,L[b]=0;var u=g();while(!0)W(u),await new Promise(requestAnimationFrame);
