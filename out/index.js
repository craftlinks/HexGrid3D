var T=function(){let b=[];for(let M=0;M<6;M++){const k=[];for(let q=0;q<6;q++)k.push(Math.random()*2-1);b.push(k)}return b},U=function(b,M){if(b<0.1)return b/0.1-1;else if(0.1<=b&&b<=1)return M*(1-Math.abs(2*b-1-0.1)/0.9);else return 0},V=function(){for(let b=0;b<1500;b++){let M=0,k=0,q=0;for(let I=0;I<1500;I++){if(b==I)continue;let A=E[I]-E[b],B=G[I]-G[b],D=J[I]-J[b];if(Math.abs(A)>0.5)A=A-Math.sign(A);if(Math.abs(B)>0.5)B=B-Math.sign(B);if(Math.abs(D)>0.5)D=D-Math.sign(D);const H=Math.sqrt(A*A+B*B+D*D);if(H>0&&H<0.25){const Q=U(H/0.25,S[O[b]][O[I]]);M+=Q*A/H,k+=Q*B/H,q+=Q*D/H}}M*=2.5,k*=2.5,q*=2.5,K[b]=K[b]*R+M*0.01,L[b]=L[b]*R+k*0.01,N[b]=N[b]*R+q*0.01}for(let b=0;b<1500;b++)E[b]+=K[b]*0.01,G[b]+=L[b]*0.01,J[b]+=N[b]*0.01,E[b]=(E[b]+1)%1,G[b]=(G[b]+1)%1,J[b]=(J[b]+1)%1},W=function(b,M=1){for(let I=0;I<M;++I)V();const{width:k,height:q}=b.canvas;b.resetTransform(),b.clearRect(0,0,k,q),b.lineWidth=0.1,b.fillStyle="black",b.fillRect(0,0,k,q);for(let I=0;I<1500;++I){b.beginPath();const A=E[I]*k,B=G[I]*q;b.arc(A,B,3.6,0,Math.PI*2),b.fillStyle=`hsl(${O[I]*360/6}, 100%, 40%)`,b.fill(),b.stroke()}},$=function(b){let M=window.devicePixelRatio||1,k=b.getBoundingClientRect();b.width=k.width*M,b.height=k.height*M;let q=b.getContext("2d");return q.scale(M,M),q},g=function(){return $(document.querySelector("canvas"))};var R=Math.pow(0.5,0.25);var S=T();console.log(S);var O=new Int32Array(1500),E=new Float32Array(1500),G=new Float32Array(1500),J=new Float32Array(1500),K=new Float32Array(1500),L=new Float32Array(1500),N=new Float32Array(1500);for(let b=0;b<1500;b++)O[b]=Math.floor(Math.random()*6),E[b]=Math.random(),G[b]=Math.random(),J[b]=Math.random(),K[b]=0,L[b]=0,N[b]=0;var P=g();while(!0)W(P),await new Promise(requestAnimationFrame);
